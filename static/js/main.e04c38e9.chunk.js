(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{26:function(e,t,a){e.exports=a(48)},31:function(e,t,a){},32:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(21),r=a.n(c),i=(a(31),a(23)),s=a(6),o=(a(32),Object(n.createContext)({})),m=function(){return l.a.createElement("div",{className:"footer-copyright"},l.a.createElement("div",{className:"container center-align"},l.a.createElement("a",{className:"white-text",href:"mailto:shankar.ni@northeastern.edu"},"Nikhil Shankar: 001373456")," ","\xa0 \xa0 \xa0",l.a.createElement("a",{className:"white-text",href:"https://openweathermap.org/"},"OpenWeatherMap")," ","\xa0 \xa0 \xa0",l.a.createElement("a",{className:"white-text",href:"https://materializecss.com/"},"MaterializeCSS")," ","\xa0 \xa0 \xa0",l.a.createElement("a",{className:"white-text",href:"https://darksky.net/dev"},"DarkSkyAPI")))},u=(a(16),a(33),a(5)),d=a(9),p=a.n(d),h=a(12),E=a(10),v=function(e){var t=Object(n.useContext)(o),a=t.state,c=t.actions,r=Object(n.useState)(e.location),i=Object(E.a)(r,2),s=i[0],m=i[1],d=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"d4a6d71c118517077ed0d0688b4dc2a6","https://cors-anywhere.herokuapp.com/",e.next=4,fetch("".concat("https://cors-anywhere.herokuapp.com/","https://api.openweathermap.org/data/2.5/forecast?q=").concat(t,"&appid=").concat("d4a6d71c118517077ed0d0688b4dc2a6")).then((function(e){return e.json()})).then((function(e){c({type:"setState",payload:Object(u.a)({},a,{loaded:!0,lat:e.city.coord.lat,long:e.city.coord.lon,oWeather:e.list,oWeatherLoaded:!0})})})).then((function(){return v(a.lat,a.long)})).catch((function(e){}));case 4:return n=e.sent,e.abrupt("return",null!==n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var l,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",l="".concat("https://cors-anywhere.herokuapp.com/","https://api.darksky.net/forecast/6d4c83b905298eaad1db4cde293d2068/").concat(t,",").concat(n),e.next=4,fetch(l).then((function(e){return e.json()})).then((function(e){c({type:"setState",payload:Object(u.a)({},a,{loaded:!0,data:e,current:e.currently.time})})})).catch((function(e){return console.error(e)}));case 4:return r=e.sent,e.abrupt("return",null!==r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d(s).then((function(){return v(a.lat,a.long)}))}),[a.loaded,s]),""!=a.location&&l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper white row white-text z-depth-3",style:{background:"#00bcd4"}},l.a.createElement("form",{className:"z-depth-2",style:{background:"#00bcd4"}},l.a.createElement("div",{className:"input-field col s10 white-text",style:{background:"#00bcd4",height:"60px"}},l.a.createElement("input",{id:"search",type:"search",style:{color:"white",fontSize:"25px",background:"#00bcd4",height:"60px"},required:!0,placeholder:s}),l.a.createElement("label",{className:"label-icon",htmlFor:"search"},l.a.createElement("i",{className:"material-icons",style:{color:"black"}},"search"))),l.a.createElement("div",{className:"col s2",style:{background:"#00bcd4",height:"60px"}},l.a.createElement("a",{className:"btn-floating btn-large black",onClick:function(e){e.preventDefault();var t=document.querySelector("#search").value;""!==t&&c({type:"setState",payload:Object(u.a)({},a,{loaded:!1,location:t})}),""!==t&&m(t)}},l.a.createElement("i",{className:"material-icons",style:{fontSize:"30px",color:"#00bcd4"}},"gps_fixed"))))))},y=a(22),g=a.n(y),f=function(e){var t=e.icon.toUpperCase().split("-").join("_"),a=e.size;return l.a.createElement("div",{className:"center-align"},l.a.createElement(g.a,{icon:t,color:"black",autoplay:!0,style:{maxHeight:"400px"},height:a,width:a},t))},N=function(e){var t=Object(n.useContext)(o),a=t.state,c=t.actions,r=e.daily,i=e.day,s=e.dom;return l.a.createElement("div",{onClick:function(){return c({type:"setState",payload:Object(u.a)({},a,{current:r.time,daily:r})})}},l.a.createElement("div",{className:"card col s6 l3 ",style:{height:"280px"}},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},l.a.createElement("strong",null,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][i%7]," ",s+i)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(f,{icon:r.icon,size:"80px"})),l.a.createElement("li",null,l.a.createElement("h6",null,l.a.createElement("strong",null,r.summary))),l.a.createElement("li",null,l.a.createElement("h6",null,"Hi: ",r.temperatureHigh,"\xb0F ",l.a.createElement("strong",null,"/")," Lo:"," ",r.temperatureLow,"\xb0F"))))))},b=function(e){var t=e.hourly,a=t.main,n=t.weather,c=t.wind,r=t.dt_txt,i=(t.index,t.dt,function(e){return(1.8*(e-273.15)+32).toFixed(1)});return l.a.createElement("div",{className:"card-content"},l.a.createElement("h5",null,l.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(n[0].icon,".png"),alt:n[0].description})," ",n[0].main),l.a.createElement("h5",null,i(a.temp),"\xb0F (feels like ",i(a.feels_like),"\xb0F)"),l.a.createElement("h6",null,"Hi: ",i(a.temp_max),"\xb0F ",l.a.createElement("strong",null,"/")," Lo: ",i(a.temp_min),"\xb0F"),l.a.createElement("h6",null,"Humidity: ",a.humidity," ",l.a.createElement("strong",null,"/")," Wind: ",c.speed," m/s"),l.a.createElement("h5",null,r.substr(11,5)))},w=function(e){var t=Object(n.useContext)(o).state,a=e.current,c=t.daily||e.daily,r=new Date(1e3*a),i=[r.getFullYear(),r.getMonth()+1,r.getDate()+1,r.getHours(),r.getMinutes(),r.getSeconds(),r.getDay()];return t.daily&&l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col s12"},l.a.createElement("h4",null,"3-Hourly forecast for"," ",l.a.createElement("strong",null,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][(i[6]+1)%7]),"\xa0",i[1],"/",i[2],"/",i[0]),l.a.createElement("h5",null,l.a.createElement("strong",null,c.summary))),l.a.createElement(f,{icon:c.icon,size:"400px"}),l.a.createElement("div",{className:"row"},t.oWeatherLoaded&&t.oWeather.map((function(e,t){if(""+e.dt_txt[8]+e.dt_txt[9]==i[2])return l.a.createElement("div",{key:13*t,className:"col s6 l3 card "},l.a.createElement(b,{key:111*t,hourly:e,index:t}))})),!t.oWeatherLoaded&&"Loading..."))},x=function(e){var t=new Date(1e3*e.hour.time),a=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay()];return l.a.createElement("div",{className:"row col s12 m6  l4 container valign-wrapper card card-content",style:{border:" solid 1px",height:"100px"}},l.a.createElement("div",{style:{width:"15%",display:" inline-block",padding:"3px"}},l.a.createElement(f,{icon:e.hour.icon,size:"45px"})),l.a.createElement("div",{style:{width:"15%",display:" block",padding:"3px"}},l.a.createElement("p",{style:{fontSize:"18px"}},(a[3]<10?"0":"")+a[3]+":00")),l.a.createElement("div",{style:{width:"45%",display:" inline-block",padding:"3px"}},l.a.createElement("p",{style:{fontSize:"20px"}},e.hour.summary)),l.a.createElement("div",{style:{width:"23%",display:" inline-block",padding:"3px"}},l.a.createElement("p",{style:{fontSize:"18px"}},e.hour.temperature.toFixed(1),"\xb0F")))},k=function(e){var t=e.state;if(Object(n.useEffect)((function(){}),[t.location]),null==t.data)return null;var a=t.data,c=t.current,r=a.currently.time,i=new Date(1e3*r),s=[i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getDay()],o=a.daily.data.map((function(e,t){return l.a.createElement(N,{key:t,day:s[6]+1+t,daily:e,index:t,dom:s[2]})}));return t.loaded&&l.a.createElement("div",{className:"center-align container",style:{width:"100%"}},l.a.createElement("div",{className:"col s12"},l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s4"},l.a.createElement("p",null,s[3],":",s[4]<10?"0"+s[4]:s[4])),l.a.createElement("div",{className:"col s4"},l.a.createElement("h5",null,l.a.createElement("strong",null,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][s[6]]))),l.a.createElement("div",{className:"col s4"},l.a.createElement("p",null,s[1],"/",s[2],"/",s[0])),l.a.createElement("div",{className:"col s12"},l.a.createElement(f,{icon:a.currently.icon}),l.a.createElement("h2",null,l.a.createElement("strong",null,l.a.createElement("em",null,a.currently.summary))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m6"},l.a.createElement("h3",null,a.currently.temperature)),l.a.createElement("div",{className:"col s12 m6"},l.a.createElement("h3",null,"(Feels like ",a.currently.apparentTemperature,"F)"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s6"},l.a.createElement("h5",null," Wind: ",a.currently.windSpeed.toFixed(1)," Mph")),l.a.createElement("div",{className:"col s6"},l.a.createElement("h5",null,"Humidity: ",a.currently.humidity," "))),l.a.createElement("div",{className:"row"},l.a.createElement("h2",null,a.hourly.summary),a.hourly.data.map((function(e,t){return t<25&&l.a.createElement(x,{hour:e,index:t,key:t,style:{margin:"2px"}})}))),l.a.createElement("div",{className:"row",style:{padding:"5px"}},l.a.createElement("h2",null,"This week"),o))),l.a.createElement("div",{id:"hourlyDiv"},l.a.createElement(w,{daily:a.daily.data[1],current:c})))},S=function(e){var t="11";return l.a.createElement("div",{className:"container center-align"},""!==t&&l.a.createElement("h1",null,"Locating..."),l.a.createElement("a",{className:"red waves-effect waves-light btn-large pulse",onClick:function(){navigator.geolocation?(t="Locating\u2026",navigator.geolocation.getCurrentPosition((function(e){t=""}),(function(){t="Unable to retrieve your location"}))):t="Geolocation is not supported by your browser"}},l.a.createElement("i",{className:"material-icons right"},"gps_fixed"),"Get Location"))},j=function(){return l.a.createElement("div",{className:"center-align"},l.a.createElement("div",{className:"preloader-wrapper big active"},l.a.createElement("div",{className:"spinner-layer spinner-blue"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))),l.a.createElement("div",{className:"spinner-layer spinner-red"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))),l.a.createElement("div",{className:"spinner-layer spinner-yellow"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))),l.a.createElement("div",{className:"spinner-layer spinner-green"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"})))))},O=function(e){var t=Object(n.useContext)(o),a=t.state,c=t.actions,r=e.flag?e.match.params.url.toString():"Tokyo";return r.includes("ReactWeatherApp/")&&(r=r.replace('ReactWeatherApp/")',"")),r.includes("/")&&(r=r.replace('/")',"")),console.log("Home location : "+r),Object(n.useEffect)((function(){c({type:"setState",payload:Object(u.a)({},a,{location:r})})}),[a.location]),l.a.createElement("div",{className:"Home"},l.a.createElement(v,{location:r,flag:!0}),!a.loaded&&l.a.createElement("div",{style:{height:"100%"}},l.a.createElement("div",{style:{height:"20%"}}),l.a.createElement(j,{className:"center-align"}),l.a.createElement("div",{style:{height:"20%"}}),l.a.createElement(S,null)),a.loaded&&a.oWeatherLoaded&&l.a.createElement(k,{state:a}))},F=function(){var e=Object(n.useContext)(o).state;return Object(n.useEffect)((function(){}),[e.location]),l.a.createElement(i.a,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",exact:!0},l.a.createElement(O,{location:"Boston",flag:!1})),l.a.createElement(s.a,{path:"/ReactWeatherApp/:url",exact:!0,render:function(e){return l.a.createElement(O,Object.assign({},e,{flag:!0}))}}),l.a.createElement(s.a,{path:"/:url",exact:!0,render:function(e){return l.a.createElement(O,Object.assign({},e,{flag:!0}))}})),l.a.createElement("div",{className:"footer z-depth-3 cyan darken-2 white-text"},l.a.createElement(m,null)))},W=function(){var e=Object(n.useState)({location:"",lat:0,long:0,loaded:!1,data:null,current:null,daily:null,oWeather:null,oWeatherLoaded:!1}),t=Object(E.a)(e,2),a=t[0],l=t[1];return{state:a,actions:function(e){var t=e.type,n=e.payload;switch(t){case"setState":return l(n);default:return a}}}};r.a.render(l.a.createElement((function(){var e=W();return l.a.createElement(o.Provider,{value:e},l.a.createElement(F,null))}),null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.e04c38e9.chunk.js.map